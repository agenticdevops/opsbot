{
  "$schema": "https://clawdbot.dev/schemas/config.json",
  "_comment": "Opsbot DevOps Safe Preset - Read-only operations only",

  "agents": {
    "defaults": {
      "tools": {
        "exec": {
          "security": "allowlist",
          "ask": "always",
          "safeBins": ["jq", "yq", "grep", "awk", "sed", "curl", "cat", "head", "tail", "wc", "sort", "uniq", "cut", "tr"],
          "allowlist": [
            { "pattern": "^kubectl get ", "comment": "Read Kubernetes resources" },
            { "pattern": "^kubectl describe ", "comment": "Describe Kubernetes resources" },
            { "pattern": "^kubectl logs ", "comment": "View pod logs" },
            { "pattern": "^kubectl top ", "comment": "Resource usage" },
            { "pattern": "^kubectl config ", "comment": "Config operations" },
            { "pattern": "^kubectl version", "comment": "Version info" },
            { "pattern": "^kubectl cluster-info", "comment": "Cluster info" },
            { "pattern": "^kubectl api-resources", "comment": "API resources" },
            { "pattern": "^docker ps", "comment": "List containers" },
            { "pattern": "^docker images", "comment": "List images" },
            { "pattern": "^docker logs ", "comment": "View container logs" },
            { "pattern": "^docker inspect ", "comment": "Inspect containers/images" },
            { "pattern": "^docker stats", "comment": "Container stats" },
            { "pattern": "^docker version", "comment": "Docker version" },
            { "pattern": "^docker info", "comment": "Docker info" },
            { "pattern": "^terraform plan", "comment": "Plan changes (no apply)" },
            { "pattern": "^terraform show", "comment": "Show state" },
            { "pattern": "^terraform state list", "comment": "List state" },
            { "pattern": "^terraform output", "comment": "Show outputs" },
            { "pattern": "^terraform version", "comment": "Version info" },
            { "pattern": "^aws .* describe", "comment": "AWS describe operations" },
            { "pattern": "^aws .* list", "comment": "AWS list operations" },
            { "pattern": "^aws .* get", "comment": "AWS get operations" },
            { "pattern": "^aws sts get-caller-identity", "comment": "AWS identity" },
            { "pattern": "^gcloud .* describe", "comment": "GCP describe" },
            { "pattern": "^gcloud .* list", "comment": "GCP list" },
            { "pattern": "^gh pr list", "comment": "List PRs" },
            { "pattern": "^gh pr view", "comment": "View PR" },
            { "pattern": "^gh issue list", "comment": "List issues" },
            { "pattern": "^gh issue view", "comment": "View issue" },
            { "pattern": "^gh run list", "comment": "List workflow runs" },
            { "pattern": "^gh run view", "comment": "View workflow run" }
          ]
        }
      }
    }
  },

  "skills": {
    "entries": {
      "k8s-deploy": { "enabled": true },
      "k8s-debug": { "enabled": true },
      "docker-ops": { "enabled": true },
      "aws-ops": { "enabled": true },
      "terraform-workflow": { "enabled": true },
      "incident-response": { "enabled": true },
      "system-health": { "enabled": true },
      "log-analysis": { "enabled": true }
    }
  }
}
